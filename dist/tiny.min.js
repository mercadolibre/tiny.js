/*!
 * tiny.js v0.2.5
 *
 * Copyright (c) 2015, MercadoLibre.com
 * Released under the MIT license.
 * https://raw.githubusercontent.com/mercadolibre/tiny.js/master/LICENSE
 */
!function e(t,n,o){function s(i,a){if(!n[i]){if(!t[i]){var c="function"==typeof require&&require;if(!a&&c)return c(i,!0);if(r)return r(i,!0);var u=new Error("Cannot find module '"+i+"'");throw u.code="MODULE_NOT_FOUND",u}var l=n[i]={exports:{}};t[i][0].call(l.exports,function(e){var n=t[i][1][e];return s(n||e)},l,l.exports,e,t,n,o)}return n[i].exports}for(var r="function"==typeof require&&require,i=0;i<o.length;i++)s(o[i]);return s}({1:[function(e,t,n){function EventEmitter(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function isFunction(e){return"function"==typeof e}function isNumber(e){return"number"==typeof e}function isObject(e){return"object"==typeof e&&null!==e}function isUndefined(e){return void 0===e}t.exports=EventEmitter,EventEmitter.EventEmitter=EventEmitter,EventEmitter.prototype._events=void 0,EventEmitter.prototype._maxListeners=void 0,EventEmitter.defaultMaxListeners=10,EventEmitter.prototype.setMaxListeners=function(e){if(!isNumber(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},EventEmitter.prototype.emit=function(e){var t,n,o,r,i,s;if(this._events||(this._events={}),"error"===e&&(!this._events.error||isObject(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var a=new Error('Uncaught, unspecified "error" event. ('+t+")");throw a.context=t,a}if(n=this._events[e],isUndefined(n))return!1;if(isFunction(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:r=Array.prototype.slice.call(arguments,1),n.apply(this,r)}else if(isObject(n))for(r=Array.prototype.slice.call(arguments,1),s=n.slice(),o=s.length,i=0;i<o;i++)s[i].apply(this,r);return!0},EventEmitter.prototype.addListener=function(e,t){var n;if(!isFunction(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,isFunction(t.listener)?t.listener:t),this._events[e]?isObject(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,isObject(this._events[e])&&!this._events[e].warned&&(n=isUndefined(this._maxListeners)?EventEmitter.defaultMaxListeners:this._maxListeners)&&n>0&&this._events[e].length>n&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace()),this},EventEmitter.prototype.on=EventEmitter.prototype.addListener,EventEmitter.prototype.once=function(e,t){function g(){this.removeListener(e,g),n||(n=!0,t.apply(this,arguments))}if(!isFunction(t))throw TypeError("listener must be a function");var n=!1;return g.listener=t,this.on(e,g),this},EventEmitter.prototype.removeListener=function(e,t){var n,o,r,i;if(!isFunction(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(n=this._events[e],r=n.length,o=-1,n===t||isFunction(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(isObject(n)){for(i=r;i-- >0;)if(n[i]===t||n[i].listener&&n[i].listener===t){o=i;break}if(o<0)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(o,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},EventEmitter.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[e],isFunction(n))this.removeListener(e,n);else if(n)for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},EventEmitter.prototype.listeners=function(e){return this._events&&this._events[e]?isFunction(this._events[e])?[this._events[e]]:this._events[e].slice():[]},EventEmitter.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(isFunction(t))return 1;if(t)return t.length}return 0},EventEmitter.listenerCount=function(e,t){return e.listenerCount(t)}},{}],2:[function(e,t,n){"function"==typeof Object.create?t.exports=function inherits(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function inherits(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},{}],3:[function(e,t,n){"use strict";function _interopDefault(e){return e&&"object"===(void 0===e?"undefined":o(e))&&"default"in e?e.default:e}function clone(e){if(void 0===e||"object"!==(void 0===e?"undefined":o(e)))throw new Error('The "obj" parameter is required and must be an object.');var t={},n=void 0;for(n in e)void 0!==e[n]&&(t[n]=e[n]);return t}function isPlainObject(e){return null!=e&&("object"===(void 0===e?"undefined":o(e))&&!e.nodeType&&e!==e.window&&!(e.constructor&&!Object.prototype.hasOwnProperty.call(e.constructor.prototype,"isPrototypeOf")))}function extend(){var e=void 0,t=void 0,n=void 0,r=void 0,i=void 0,s=void 0,a=arguments[0]||{},c=1,u=arguments.length,l=!1;if("boolean"==typeof a&&(l=a,a=arguments[c]||{},c++),"object"!==(void 0===a?"undefined":o(a))&&"function"===!(void 0===a?"undefined":o(a))&&(a={}),u<=c)return a;for(;c<u;c++)if(null!=(e=arguments[c]))for(t in e)n=a[t],r=e[t],a!==r&&(l&&r&&(isPlainObject(r)||(i=Array.isArray(r)))?(i?(i=!1,s=n&&Array.isArray(n)?n:[]):s=n&&isPlainObject(n)?n:{},a[t]=extend(l,s,r)):void 0!==r&&(a[t]=r));return a}function ajax(e,t){var n=arguments,r=void 0;t=1===n.length?n[0]:n[1];var i=function noop(){},s={url:2===n.length&&"string"==typeof e?e:".",cache:!0,data:null,headers:{},context:null,dataType:"text",method:"GET",credentials:"omit",success:i,error:i,complete:i,preload:!1};r=extend(s,t||{});var a={"application/json":"json","text/html":"html","text/plain":"text"},c={};for(var u in a)a.hasOwnProperty(u)&&(c[a[u]]=u);r.cache||(r.url=r.url+(~r.url.indexOf("?")?"&":"?")+"nc="+Math.floor(9e9*Math.random()));var l=function complete(e,t){r.complete.call(r.context,t,e)},d=function success(e,t){r.success.call(r.context,e,"success",t),l("success",t)},p=function error(e,t,n){r.error.call(r.context,n,t,e),l(t,n)},f=Object.prototype.toString;r.method=r.method.toUpperCase();var v=document.createElement("a"),h=document.createElement("a");h.href=location.href;try{v.href=r.url,v.href=v.href,r.crossDomain=h.protocol+"//"+h.host!=v.protocol+"//"+v.host}catch(e){r.crossDomain=!0}var m=new XMLHttpRequest,E=r.crossDomain&&!("withCredentials"in m)&&"XDomainRequest"in window;if(E?(m=new XDomainRequest,m.onload=function(){var e=m.contentType,t=e&&a[e[1]]?a[e[1]].toLowerCase():"json",n=void 0;if("json"===t)try{n=JSON.parse(m.responseText)}catch(e){n=m.responseText}else n=m.responseText;d(n,m)}):m.onreadystatechange=function(){if(4!==m.readyState);else{var e=void 0,t=1223===m.status?204:m.status;if(t>=200&&t<300||304===t){var n=/([\/a-z]+)(;|\s|$)/.exec(m.getResponseHeader("content-type")),o=n&&a[n[1]]?a[n[1]].toLowerCase():"text";if(e=m.responseText,"json"===o)try{e=JSON.parse(e)}catch(t){e=m.responseText}d(e,m)}else p(new Error(m.statusText),"error",m)}},m.onerror=function(){p(new Error(m.statusText||"Network request failed"),"error",m)},"GET"!==r.method&&"HEAD"!==r.method||"string"!=typeof r.data||(r.url+=(~r.url.indexOf("?")?"&":"?")+r.data),m.open(r.method,r.url),"include"===r.credentials&&(m.withCredentials=!0),!r.preload&&(r.dataType&&c[r.dataType.toLowerCase()]&&(r.headers.Accept=c[r.dataType.toLowerCase()]+", */*; q=0.01"),r.crossDomain||r.headers["X-Requested-With"]||(r.headers["X-Requested-With"]="XMLHttpRequest"),r.data=function normalizeRequestData(e,t,n){var r="application/x-www-form-urlencoded; charset=UTF-8";return"undefined"!=typeof FormData&&e instanceof FormData||/^\[object\s(ArrayBuffer|File|Blob)\]$/.test(f.call(e))?e:"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams||"string"==typeof e?(void 0===t["Content-Type"]&&(t["Content-Type"]=r),e.toString()):null!==e&&"object"===(void 0===e?"undefined":o(e))?(void 0===t["Content-Type"]&&(t["Content-Type"]=n?r:"application/json;  charset=UTF-8"),JSON.stringify(e)):e}(r.data,r.headers,r.crossDomain),!E))for(var y in r.headers)m.setRequestHeader(y,r.headers[y]);return m.send(r.data),this}function jsonp(e,t){var n=void 0,o=void 0,r=void 0,i=void 0,u=extend({prefix:"__jsonp",param:"callback",timeout:15e3,success:s,error:s,autoCleanup:!0},t);return c++,n=u.name?"function"==typeof u.name?u.name(u.prefix,c):u.name:u.prefix+c++,i=function cleanup(){o&&o.parentNode&&o.parentNode.removeChild(o),window[n]=s,r&&clearTimeout(r)},u.timeout&&(r=setTimeout(function(){u.autoCleanup&&i(),u.error(new Error("Script loading timeout"))},u.timeout)),window[n]=function(e){u.autoCleanup&&i(),u.success(e)},e+=(~e.indexOf("?")?"&":"?")+u.param+"="+encodeURIComponent(n),e=e.replace("?&","?"),o=document.createElement("script"),o.type="text/javascript",o.src=e,o.onerror=function(e){u.autoCleanup&&i(),u.error(new Error(e.message||"Script Error"))},a.appendChild(o),function cancel(){window[n]&&i()}}function execute(e){if("string"==typeof e){var t=l.cloneNode(!1);t.text=e,d.parentNode.insertBefore(t,d)}else e.apply(window)}function saveInBuffer(e,t){p[e]=t}function finishedTask(e){saveInBuffer(e,null),f=e+1}function executeBuffer(){for(var e=!0,t=void 0,n=f,o=p.length;n<o&&e;)t=p[n],void 0!==t&&null!==t?(execute(t),finishedTask(n),n+=1):e=!1}function loadsAndExecuteScriptsOnChain(){if(p.length){var e=p.pop(),t=void 0;"string"==typeof e?(t=l.cloneNode(!0),t.type="text/javascript",t.async=!0,t.src=e,t.onload=t.onreadystatechange=function(){t.readyState&&!/loaded|complete/.test(t.readyState)||(t.onload=t.onreadystatechange=null,t=void 0,loadsAndExecuteScriptsOnChain())},d.parentNode.insertBefore(t,d)):(e.apply(window),loadsAndExecuteScriptsOnChain())}}function onloadCORSHandler(e,t){return function(){saveInBuffer(t,e.responseText),executeBuffer(),e=void 0}}function loadWithCORS(){var e,t,n=arguments.length;for(e=0;e<n;e+=1)"string"==typeof arguments[e]?(t=v(arguments[e]),t.onload=onloadCORSHandler(t,p.length),saveInBuffer(p.length,null),t.send()):(saveInBuffer(p.length,arguments[e]),executeBuffer())}function loadWithoutCORS(){p.push(Array.prototype.slice.call(arguments,0).reverse()),loadsAndExecuteScriptsOnChain()}function addClass(e,t){y?e.classList.add(t):e.setAttribute("class",e.getAttribute("class")+" "+t)}function removeClass(e,t){y?e.classList.remove(t):e.setAttribute("class",e.className.replace(new RegExp("(^|\\b)"+t.split(" ").join("|")+"(\\b|$)","gi")," "))}function hasClass(e,t){return y?e.classList.contains(t):new RegExp("(^| )"+t+"( |$)","gi").test(e.className)}function parent(e,t){var n=e.parentNode,o=t?t.toUpperCase():t;return null===n?n:1!==n.nodeType?parent(n,o):void 0!==t&&n.tagName===o?n:void 0!==t&&n.tagName!==o?parent(n,o):void 0===t?n:void 0}function next(e){return e.nextElementSibling||function next(e){do{e=e.nextSibling}while(e&&1!==e.nodeType);return e}(e)}function css(e,t,n){var r,i=arguments,s=getElements(e),a=s.length;if("string"==typeof t&&2===i.length)return 0===a?"":getElStyle(s[0],t);3===i.length?r=function setter(e){e.style[t]=n}:"object"===(void 0===t?"undefined":o(t))&&(r=function setter(e){Object.keys(t).forEach(function(n){e.style[n]=t[n]})});for(var c=0;c<a;c++)r(s[c])}function getElStyle(e,t){return window.getComputedStyle?window.getComputedStyle(e,null).getPropertyValue(t):(t=t.replace(/\-(\w)/g,function(e,t){return t.toUpperCase()}),e.currentStyle[t])}function getElements(e){return e?"string"==typeof e?nodeListToArray(document.querySelectorAll(e)):/^\[object (HTMLCollection|NodeList|Object)\]$/.test(Object.prototype.toString.call(e))&&("number"==typeof e.length||Object.prototype.hasOwnProperty.call(e,"length"))&&e.length>0&&e[0].nodeType>0?nodeListToArray(e):[e]:[]}function nodeListToArray(e){for(var t=0,n=e.length,o=[];t<n;t++)o.push(e[t]);return o}function scroll(){return{left:window.pageXOffset||document.documentElement.scrollLeft||0,top:window.pageYOffset||document.documentElement.scrollTop||0}}function offset(e){var t=e.getBoundingClientRect(),n=getFixedParent(e),o=scroll(),r={left:t.left,top:t.top};return"fixed"!==css(e,"position")&&null===n&&(r.left+=o.left,r.top+=o.top),r}function getFixedParent(e){for(var t=e.offsetParent,n=void 0;void 0===n;){if(null===t){n=null;break}"fixed"!==css(t,"position")?t=t.offsetParent:n=t}return n}function get(e){var t=document.cookie.split("; "),n=null,o=t.length;if(!o)return n;for(var r=0;r<o;r++){var i=t[r].split("=");if(e===decodeURIComponent(i.shift())){n=decodeURIComponent(i.join("="));break}}return n}function set(e,t,n){n="object"===(void 0===n?"undefined":o(n))?n:{expires:n};var r=null!=n.expires?n.expires:w.expires;"string"==typeof r&&""!==r?r=new Date(r):"number"==typeof r&&(r=new Date(+new Date+1e3*b*r)),r&&"toGMTString"in r&&(r=";expires="+r.toGMTString());var i=";path="+(n.path||w.path),s=n.domain||w.domain;s=s?";domain="+s:"";var a=n.secure||w.secure?";secure":"";"object"==(void 0===t?"undefined":o(t))&&(t=Array.isArray(t)||isPlainObject(t)?JSON.stringify(t):""),document.cookie=encodeCookie(e)+"="+encodeCookie(t)+r+i+s+a}function remove(e){set(e,"",-1)}function isEnabled(){if(navigator.cookieEnabled)return!0;set("__","_");var e="_"===get("__");return remove("__"),e}function encodeCookie(e){return String(e).replace(/[,;"\\=\s%]/g,function(e){return encodeURIComponent(e)})}function getElements$1(e){return e?"string"==typeof e?nodeListToArray$1(document.querySelectorAll(e)):/^\[object (HTMLCollection|NodeList|Object)\]$/.test(Object.prototype.toString.call(e))&&("number"==typeof e.length||Object.prototype.hasOwnProperty.call(e,"length"))?0===e.length||e[0].nodeType<1?[]:nodeListToArray$1(e):Array.isArray(e)?[].concat(e):[e]:[]}function nodeListToArray$1(e){for(var t=0,n=e.length,o=[];t<n;t++)o.push(e[t]);return o}function initEvent(e,t){"string"!=typeof e&&(t=e,e=t.type);var n=void 0,o=-1!==L.indexOf(e),r=o&&-1!==_.indexOf(e),i=extend({bubbles:o,cancelable:o,detail:void 0},t);return document.createEvent?(n=document.createEvent(r&&window.MouseEvent?"MouseEvents":"Events"),n.initEvent(e,i.bubbles,i.cancelable,i.detail)):document.createEventObject&&(n=document.createEventObject(window.event),r&&(n.button=1),i.bubbles||(n.cancelBubble=!0)),n}function normalizeEventName(e){return"on"===e.substr(0,2)?x?e.substr(2):e:x?e:"on"+e}function on(e,t,n,o){getElements$1(e).forEach(function(e){e[O](normalizeEventName(t),n,o||!1)})}function once(e,t,n,o){getElements$1(e).forEach(function(e){var r=n;n=function handler(t){return off(e,t.type,n),r.apply(e,arguments)},e[O](normalizeEventName(t),n,o||!1)})}function off(e,t,n){getElements$1(e).forEach(function(e){e[P](normalizeEventName(t),n)})}function trigger(e,t,n){var o=this,r="string"==typeof t?t:t.type;t="string"==typeof t||isPlainObject(t)?initEvent(t,n):t,getElements$1(e).forEach(function(e){t.type in focus&&"function"==typeof o[t.type]?o[t.type]():x?e[C](t):e[C](normalizeEventName(r),t)})}var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=_interopDefault(e("inherits")),i=_interopDefault(e("events")),s=function noop(){},a=document.getElementsByTagName("head")[0],c=0,u=window.document,l=u.createElement("script"),d=u.getElementsByTagName("script")[0],p=[],f=0,v=function(){var e=void 0,t=void 0;return window.XMLHttpRequest&&(e=new window.XMLHttpRequest,"withCredentials"in e?t=function CORSRequest(t){return e=new window.XMLHttpRequest,e.open("get",t,!0),e}:window.XDomainRequest&&(t=function CORSRequest(t){return e=new window.XDomainRequest,e.open("get",t),e})),t}(),h=v?loadWithCORS:loadWithoutCORS,m={transition:function transitionEnd(){var e=document.createElement("tiny"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var n in t)if(t.hasOwnProperty(n)&&void 0!==e.style[n])return{end:t[n]};return!1}(),animation:function animationEnd(){var e=document.createElement("tiny"),t={WebkitAnimation:"webkitAnimationEnd",MozAnimation:"animationend",OAnimation:"oAnimationEnd oanimationend",animation:"animationend"};for(var n in t)if(t.hasOwnProperty(n)&&void 0!==e.style[n])return{end:t[n]};return!1}(),touch:"ontouchend"in document,customEvent:function(){try{return new CustomEvent(name,{detail:{}}),!0}catch(e){return!1}}()},E=document.createElement("div"),y=!!E.classList,g={addClass:addClass,removeClass:removeClass,hasClass:hasClass},w={expires:"",path:"/",secure:!1,domain:""},b=86400,T={get:get,set:set,remove:remove,isEnabled:isEnabled},L=function(){var e=[];for(var t in document)if("on"===t.substring(0,2)){var n=t.replace("on","");e.push(n)}return e}(),_=L.filter(function(e){return/^(?:click|dblclick|mouse(?:down|up|over|move|out))$/.test(e)}),x=!!document.addEventListener,O=x?"addEventListener":"attachEvent",P=x?"removeEventListener":"detachEvent",C=x?"dispatchEvent":"fireEvent";!Event.prototype.preventDefault&&Object.defineProperties&&Object.defineProperties(window.Event.prototype,{bubbles:{value:!0,writable:!0},cancelable:{value:!0,writable:!0},preventDefault:{value:function value(){this.cancelable&&(this.defaultPrevented=!0,this.returnValue=!1)}},stopPropagation:{value:function value(){this.stoppedPropagation=!0,this.cancelBubble=!0}},stopImmediatePropagation:{value:function value(){this.stoppedImmediatePropagation=!0,this.stopPropagation()}}});var j={on:on,once:once,off:off,trigger:trigger};!function(e){function setTouchTimer(){y=!0,clearTimeout(g),g=setTimeout(function(){y=!1},700)}function getFirstCommonNode(e,t){for(;e;){if(e===document.documentElement||e.contains&&e.contains(t))return e;e=e.parentNode}return null}function dispatchPointerEnter(e,t,n){for(var o=getFirstCommonNode(e,t),r=e,i=[];r&&r!==o;)u(r,"pointerenter")&&i.push(r),r=r.parentNode;for(;i.length>0;)n(i.pop())}function dispatchPointerLeave(e,t,n){for(var o=getFirstCommonNode(e,t),r=e;r&&r!==o;)u(r,"pointerleave")&&n(r),r=r.parentNode}function applySimpleEventTunnels(t,n){["pointerdown","pointermove","pointerup","pointerover","pointerout"].forEach(function(o){e.addEventListener(t(o),function(e){!y&&l(e.target,o)&&n(e,o,!0)})}),void 0===e["on"+t("pointerenter").toLowerCase()]&&e.addEventListener(t("pointerover"),function(t){if(!y){var o=l(t.target,"pointerenter");o&&o!==e&&(o.contains(t.relatedTarget)||dispatchPointerEnter(o,t.relatedTarget,function(e){n(t,"pointerenter",!1,e,t.relatedTarget)}))}}),void 0===e["on"+t("pointerleave").toLowerCase()]&&e.addEventListener(t("pointerout"),function(t){if(!y){var o=l(t.target,"pointerleave");o&&o!==e&&(o.contains(t.relatedTarget)||dispatchPointerLeave(o,t.relatedTarget,function(e){n(t,"pointerleave",!1,e,t.relatedTarget)}))}})}if(!e.PointerEvent){var t=!!e.MouseEvent;if(t){var n=["PointerDown","PointerUp","PointerMove","PointerOver","PointerOut","PointerCancel","PointerEnter","PointerLeave"],o=n.map(function(e){return e.toLowerCase()}),r={},i=function checkPreventDefault(t){for(;t&&!t.ch_forcePreventDefault;)t=t.parentNode;return!!t||e.ch_forcePreventDefault},s=function generateTouchClonedEvent(n,o,r,i,s){var a;if(document.createEvent&&t?(a=document.createEvent("MouseEvents"),a.initMouseEvent(o,r,!0,e,1,n.screenX,n.screenY,n.clientX,n.clientY,n.ctrlKey,n.altKey,n.shiftKey,n.metaKey,n.button,s||n.relatedTarget)):(a=document.createEventObject(),a.screenX=n.screenX,a.screenY=n.screenY,a.clientX=n.clientX,a.clientY=n.clientY,a.ctrlKey=n.ctrlKey,a.altKey=n.altKey,a.shiftKey=n.shiftKey,a.metaKey=n.metaKey,a.button=n.button,a.relatedTarget=s||n.relatedTarget),void 0===a.offsetX&&(void 0!==n.offsetX?(Object&&void 0!==Object.defineProperty&&(Object.defineProperty(a,"offsetX",{writable:!0}),Object.defineProperty(a,"offsetY",{writable:!0})),a.offsetX=n.offsetX,a.offsetY=n.offsetY):Object&&void 0!==Object.defineProperty?(Object.defineProperty(a,"offsetX",{get:function get(){return this.currentTarget&&this.currentTarget.offsetLeft?n.clientX-this.currentTarget.offsetLeft:n.clientX}}),Object.defineProperty(a,"offsetY",{get:function get(){return this.currentTarget&&this.currentTarget.offsetTop?n.clientY-this.currentTarget.offsetTop:n.clientY}})):void 0!==n.layerX&&(a.offsetX=n.layerX-n.currentTarget.offsetLeft,a.offsetY=n.layerY-n.currentTarget.offsetTop)),void 0!==n.isPrimary?a.isPrimary=n.isPrimary:a.isPrimary=!0,n.pressure)a.pressure=n.pressure;else{var c=0;void 0!==n.which?c=n.which:void 0!==n.button&&(c=n.button),a.pressure=0===c?0:.5}if(n.rotation?a.rotation=n.rotation:a.rotation=0,n.hwTimestamp?a.hwTimestamp=n.hwTimestamp:a.hwTimestamp=0,n.tiltX?a.tiltX=n.tiltX:a.tiltX=0,n.tiltY?a.tiltY=n.tiltY:a.tiltY=0,n.height?a.height=n.height:a.height=0,n.width?a.width=n.width:a.width=0,a.preventDefault=function(){void 0!==n.preventDefault&&n.preventDefault()},void 0!==a.stopPropagation){var u=a.stopPropagation;a.stopPropagation=function(){void 0!==n.stopPropagation&&n.stopPropagation(),u.call(this)}}switch(a.pointerId=n.pointerId,a.pointerType=n.pointerType,a.pointerType){case 2:a.pointerType="touch";break;case 3:a.pointerType="pen";break;case 4:a.pointerType="mouse"}i?i.dispatchEvent(a):n.target&&t?n.target.dispatchEvent(a):n.srcElement.fireEvent("on"+p(o),a)},a=function generateMouseProxy(e,t,n,o,r){e.pointerId=1,e.pointerType="mouse",s(e,t,n,o,r)},c=function generateTouchEventProxy(e,t,n,o,r,i){var a=t.identifier+2;t.pointerId=a,t.pointerType="touch",t.currentTarget=n,void 0!==o.preventDefault&&(t.preventDefault=function(){o.preventDefault()}),s(t,e,r,n,i)},u=function checkEventRegistration(e,t){return e.__chGlobalRegisteredEvents&&e.__chGlobalRegisteredEvents[t]},l=function findEventRegisteredNode(t,n){for(;t&&!u(t,n);)t=t.parentNode;return t||(u(e,n)?e:void 0)},d=function generateTouchEventProxyIfRegistered(e,t,n,o,r,i){l(n,e)&&c(e,t,n,o,r,i)},p=function getMouseEquivalentEventName(e){return e.toLowerCase().replace("pointer","mouse")},f=function getPrefixEventName(e,t){var r=o.indexOf(t);return e+n[r]},v=function registerOrUnregisterEvent(e,t,n,o){if(void 0===e.__chRegisteredEvents&&(e.__chRegisteredEvents=[]),o){if(void 0!==e.__chRegisteredEvents[t])return void e.__chRegisteredEvents[t]++;e.__chRegisteredEvents[t]=1,e.addEventListener(t,n,!1)}else{if(-1!==e.__chRegisteredEvents.indexOf(t)&&0!==--e.__chRegisteredEvents[t])return;e.removeEventListener(t,n),e.__chRegisteredEvents[t]=0}},h=function setTouchAware(t,n,o){if(t.__chGlobalRegisteredEvents||(t.__chGlobalRegisteredEvents=[]),o){if(void 0!==t.__chGlobalRegisteredEvents[n])return void t.__chGlobalRegisteredEvents[n]++;t.__chGlobalRegisteredEvents[n]=1}else void 0!==t.__chGlobalRegisteredEvents[n]&&--t.__chGlobalRegisteredEvents[n]<0&&(t.__chGlobalRegisteredEvents[n]=0);var r,i;switch(e.MSPointerEvent?(r=function nameGenerator(e){return f("MS",e)},i=s):(r=p,i=a),n){case"pointerenter":case"pointerleave":var c=r(n);void 0!==t["on"+c.toLowerCase()]&&v(t,c,function(e){i(e,n)},o)}},m=function interceptAddEventListener(e){var t=e.prototype?e.prototype.addEventListener:e.addEventListener,n=function customAddEventListener(e,n,r){-1!==o.indexOf(e)&&h(this,e,!0),void 0===t?this.attachEvent("on"+p(e),n):t.call(this,e,n,r)};e.prototype?e.prototype.addEventListener=n:e.addEventListener=n},E=function interceptRemoveEventListener(e){var t=e.prototype?e.prototype.removeEventListener:e.removeEventListener,n=function customRemoveEventListener(e,n,r){-1!==o.indexOf(e)&&h(this,e,!1),void 0===t?this.detachEvent(p(e),n):t.call(this,e,n,r)};e.prototype?e.prototype.removeEventListener=n:e.removeEventListener=n};m(e),m(e.HTMLElement||e.Element),m(document),m(HTMLBodyElement),m(HTMLDivElement),m(HTMLImageElement),m(HTMLUListElement),m(HTMLAnchorElement),m(HTMLLIElement),m(HTMLTableElement),e.HTMLSpanElement&&m(HTMLSpanElement),e.HTMLCanvasElement&&m(HTMLCanvasElement),e.SVGElement&&m(SVGElement),E(e),E(e.HTMLElement||e.Element),E(document),E(HTMLBodyElement),E(HTMLDivElement),E(HTMLImageElement),E(HTMLUListElement),E(HTMLAnchorElement),E(HTMLLIElement),E(HTMLTableElement),e.HTMLSpanElement&&E(HTMLSpanElement),e.HTMLCanvasElement&&E(HTMLCanvasElement),e.SVGElement&&E(SVGElement);var y=!1,g=-1;!function(){e.MSPointerEvent?applySimpleEventTunnels(function(e){return f("MS",e)},s):(applySimpleEventTunnels(p,a),void 0!==e.ontouchstart&&(e.addEventListener("touchstart",function(e){for(var t=0;t<e.changedTouches.length;++t){var n=e.changedTouches[t];r[n.identifier]=n.target,d("pointerover",n,n.target,e,!0),dispatchPointerEnter(n.target,null,function(t){c("pointerenter",n,t,e,!1)}),d("pointerdown",n,n.target,e,!0)}setTouchTimer()}),e.addEventListener("touchend",function(e){for(var t=0;t<e.changedTouches.length;++t){var n=e.changedTouches[t],o=r[n.identifier];o&&(d("pointerup",n,o,e,!0),d("pointerout",n,o,e,!0),dispatchPointerLeave(o,null,function(t){c("pointerleave",n,t,e,!1)}),delete r[n.identifier])}setTouchTimer()}),e.addEventListener("touchmove",function(e){for(var t=0;t<e.changedTouches.length;++t){var n=e.changedTouches[t],o=document.elementFromPoint(n.clientX,n.clientY),s=r[n.identifier];s&&!0===i(s)&&e.preventDefault(),e.cancelable?(d("pointermove",n,s,e,!0),s!==o&&(s&&(d("pointerout",n,s,e,!0,o),s.contains(o)||dispatchPointerLeave(s,o,function(t){c("pointerleave",n,t,e,!1,o)})),o&&(d("pointerover",n,o,e,!0,s),o.contains(s)||dispatchPointerEnter(o,s,function(t){c("pointerenter",n,t,e,!1,s)})),r[n.identifier]=o)):(delete r[n.identifier],d("pointercancel",n,s,e,!0),d("pointerout",n,s,e,!0),dispatchPointerLeave(s,null,function(t){c("pointerleave",n,t,e,!1)}))}setTouchTimer()}),e.addEventListener("touchcancel",function(e){for(var t=0;t<e.changedTouches.length;++t){var n=e.changedTouches[t];d("pointercancel",n,r[n.identifier],e,!0)}})))}(),void 0===navigator.pointerEnabled&&(navigator.pointerEnabled=!0,navigator.msPointerEnabled&&(navigator.maxTouchPoints=navigator.msMaxTouchPoints))}}}(window),function(){function pointerDown(i){var s=i.pointerType===o||i.pointerType===n||i.pointerType===t&&i.isPrimary;!r&&s&&(e={id:i.pointerId,clientX:i.clientX,clientY:i.clientY,x:i.x||i.pageX,y:i.y||i.pageY,type:i.pointerType})}function pointerLeave(){e=null}function pointerUp(t){e&&e.id===t.pointerId&&Math.abs(e.x-(t.x||t.pageX))<5&&Math.abs(e.y-(t.y||t.pageY))<5&&(!r||Math.abs(s-window.pageXOffset)<5&&Math.abs(a-window.pageYOffset)<5)&&makePointertapEvent(t),e=null}function makePointertapEvent(e){var t=document.createEvent("MouseEvents"),n=document.elementFromPoint(e.clientX,e.clientY);return n?(t.initMouseEvent("pointertap",!0,!0,window,1,e.screenX,e.screenY,e.clientX,e.clientY,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,e.button,n),t.maskedEvent=e,n.dispatchEvent(t),t):null}if(window.MouseEvent){var e,t="touch",n="pen",o="mouse",r=!1,i=!1,s=0,a=0;window.addEventListener("scroll",function(){r||(s=window.pageXOffset,a=window.pageYOffset),r=!0,clearTimeout(i),i=setTimeout(function(){r=!1,s=0,a=0},100)}),window.addEventListener("pointerdown",pointerDown),window.addEventListener("pointerup",pointerUp),window.addEventListener("pointerleave",pointerLeave),window.addEventListener("pointermove",function(){})}}();var M=!!window.MouseEvent,S=M?"pointerdown":"mousedown",R=M?"pointerup":"mouseup",X=M?"pointermove":"mousemove",A=m.touch&&M?"pointertap":"click",N=M?"pointerenter":"mouseenter",D=M?"pointerleave":"mouseleave",H="oninput"in document.createElement("input")?"input":"keydown",k=Object.freeze({onlayoutchange:"layoutchange",onresize:"resize",onscroll:"scroll",onpointerdown:S,onpointerup:R,onpointermove:X,onpointertap:A,onpointerenter:N,onpointerleave:D,onkeyinput:H}),Y={clone:clone,extend:extend,inherits:r,EventEmitter:i,ajax:ajax,jsonp:jsonp,jcors:h,isPlainObject:isPlainObject,support:m,addClass:g.addClass,removeClass:g.removeClass,hasClass:g.hasClass,parent:parent,next:next,css:css,offset:offset,scroll:scroll,cookies:T,on:j.on,bind:j.on,one:j.once,once:j.once,off:j.off,trigger:j.trigger};for(var q in k)Y[q]=k[q];"undefined"!=typeof window&&(window.tiny=Y),t.exports=Y},{events:1,inherits:2}]},{},[3]);